var e,r,t,n={335:(e,r,t)=>{t.d(r,{Z:()=>s});var n=t(246),o=t(634),a=t(104),i=t.n(a),l=t(15);const s=(e=>{const r=document.getElementById("root");if(!r)throw new Error("container element could not be found");o.a(r,(0,n.jsx)((()=>{const[e,r]=i().useState("");return(0,n.jsxs)("div",{style:{padding:"1rem",borderRadius:"0.25rem",border:"4px dashed #fc451e"},children:[(0,n.jsx)(l.q,{children:(0,n.jsx)("title",{children:"SSR MF Example"})}),(0,n.jsxs)("div",{style:{padding:"1rem"},children:[(0,n.jsx)("h1",{children:"Module Federation Example: Server Side Rendering"}),(0,n.jsx)("h2",{children:"This is the shell application."}),(0,n.jsx)("p",{children:"You can try to disable JavaScript and reload the page."})]}),(0,n.jsxs)("div",{style:{padding:"1rem"},children:[(0,n.jsx)("h3",{children:"Type something into this input"}),(0,n.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value),placeholder:"Luke, I am your father..."})]}),(0,n.jsx)(i().Suspense,{fallback:(0,n.jsx)("h1",{children:"Loading...."}),children:(0,n.jsx)("div",{children:"test"})})]})}),{}))})()}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var t=o[e]={exports:{}};return n[e](t,t.exports,a),t.exports}a.m=n,a.c=o,e=[],a.O=(r,t,n,o)=>{if(!t){var i=1/0;for(d=0;d<e.length;d++){for(var[t,n,o]=e[d],l=!0,s=0;s<t.length;s++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](t[s])))?t.splice(s--,1):(l=!1,o<i&&(i=o));if(l){e.splice(d--,1);var u=n();void 0!==u&&(r=u)}}return r}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,n,o]},a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((r,t)=>(a.f[t](e,r),r)),[])),a.u=e=>e+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{a.S={};var e={},r={};a.I=(t,n)=>{n||(n=[]);var o=r[t];if(o||(o=r[t]={}),!(n.indexOf(o)>=0)){if(n.push(o),e[t])return e[t];a.o(a.S,t)||(a.S[t]={});var i=a.S[t],l=(e,r,t,n)=>{var o=i[e]=i[e]||{},a=o[r];(!a||!a.loaded&&(!n!=!a.eager?n:"zoe">a.from))&&(o[r]={get:t,from:"zoe",eager:!!n})},s=[];return"default"===t&&(l("react-dom","18.2.0",(()=>a.e(542).then((()=>()=>a(542))))),l("react","18.2.0",(()=>a.e(378).then((()=>()=>a(378)))))),e[t]=s.length?Promise.all(s).then((()=>e[t]=1)):1}}})(),(()=>{var e=e=>{var r=e=>e.split(".").map((e=>+e==e?+e:e)),t=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(e),n=t[1]?r(t[1]):[];return t[2]&&(n.length++,n.push.apply(n,r(t[2]))),t[3]&&(n.push([]),n.push.apply(n,r(t[3]))),n},r=(t,n)=>{if(0 in t){n=e(n);var o=t[0],a=o<0;a&&(o=-o-1);for(var i=0,l=1,s=!0;;l++,i++){var u,d,h=l<t.length?(typeof t[l])[0]:"";if(i>=n.length||"o"==(d=(typeof(u=n[i]))[0]))return!s||("u"==h?l>o&&!a:""==h!=a);if("u"==d){if(!s||"u"!=h)return!1}else if(s)if(h==d)if(l<=o){if(u!=t[l])return!1}else{if(a?u>t[l]:u<t[l])return!1;u!=t[l]&&(s=!1)}else if("s"!=h&&"n"!=h){if(a||l<=o)return!1;s=!1,l--}else{if(l<=o||d<h!=a)return!1;s=!1}else"s"!=h&&"n"!=h&&(s=!1,l--)}}var f=[],c=f.pop.bind(f);for(i=1;i<t.length;i++){var p=t[i];f.push(1==p?c()|c():2==p?c()&c():p?r(p,n):!c())}return!!c()},t=(t,n,o)=>{var a=t[n];return(n=Object.keys(a).reduce(((t,n)=>!r(o,n)||t&&!((r,t)=>{r=e(r),t=e(t);for(var n=0;;){if(n>=r.length)return n<t.length&&"u"!=(typeof t[n])[0];var o=r[n],a=(typeof o)[0];if(n>=t.length)return"u"==a;var i=t[n],l=(typeof i)[0];if(a!=l)return"o"==a&&"n"==l||"s"==l||"u"==a;if("o"!=a&&"u"!=a&&o!=i)return o<i;n++}})(t,n)?t:n),0))&&a[n]},n=(e=>function(r,t,n,o){var i=a.I(r);return i&&i.then?i.then(e.bind(e,r,a.S[r],t,n,o)):e(r,a.S[r],t,n,o)})(((e,r,n,o,i)=>{var l=r&&a.o(r,n)&&t(r,n,o);return l?(e=>(e.loaded=1,e.get()))(l):i()})),o={},i={104:()=>n("default","react",[1,18,2,0],(()=>a.e(378).then((()=>()=>a(378))))),53:()=>n("default","react-dom",[1,18,2,0],(()=>a.e(542).then((()=>()=>a(542)))))};[104,53].forEach((e=>{a.m[e]=r=>{o[e]=0,delete a.c[e];var t=i[e]();if("function"!=typeof t)throw new Error("Shared module is not available for eager consumption: "+e);r.exports=t()}}));var l={};a.f.consumes=(e,r)=>{a.o(l,e)&&l[e].forEach((e=>{if(a.o(o,e))return r.push(o[e]);var t=r=>{o[e]=0,a.m[e]=t=>{delete a.c[e],t.exports=r()}},n=r=>{delete o[e],a.m[e]=t=>{throw delete a.c[e],r}};try{var l=i[e]();l.then?r.push(o[e]=l.then(t).catch(n)):t(l)}catch(e){n(e)}}))}})(),r={179:0},t=e=>{var t,n,{ids:o,modules:i,runtime:l}=e,s=0;for(t in i)a.o(i,t)&&(a.m[t]=i[t]);for(l&&l(a);s<o.length;s++)n=o[s],a.o(r,n)&&r[n]&&r[n][0](),r[o[s]]=0;a.O()},a.f.j=(e,n)=>{var o=a.o(r,e)?r[e]:void 0;if(0!==o)if(o)n.push(o[1]);else{var i=import("./"+a.u(e)).then(t,(t=>{throw 0!==r[e]&&(r[e]=void 0),t}));i=Promise.race([i,new Promise((t=>o=r[e]=[t]))]),n.push(o[1]=i)}},a.O.j=e=>0===r[e];var i=a.O(void 0,[939],(()=>a(335))),l=(i=a.O(i)).Z;export{l as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0ksS0FFbEMsSUFBSWtFLEVBQXFCM0csRUFBb0JnQyxFQUFFdkQsRUFBaUI0RCxHQUFXNUQsRUFBZ0I0RCxRQUFXbEMsRUFDdEcsR0FBMEIsSUFBdkJ3RyxFQUdGLEdBQUdBLEVBQ0ZsRSxFQUFTb0IsS0FBSzhDLEVBQW1CLFFBQzNCLENBR0wsSUFBSWhCLEVBQVVpQixPQUFPLEtBQU81RyxFQUFvQjBDLEVBQUVMLElBQVVrQyxLQUFLN0YsR0FBZWlCLElBRS9FLE1BRGdDLElBQTdCbEIsRUFBZ0I0RCxLQUFnQjVELEVBQWdCNEQsUUFBV2xDLEdBQ3hEUixDQUFDLElBRUpnRyxFQUFVckQsUUFBUXVFLEtBQUssQ0FBQ2xCLEVBQVMsSUFBSXJELFNBQVN3RSxHQUFhSCxFQUFxQmxJLEVBQWdCNEQsR0FBVyxDQUFDeUUsT0FDaEhyRSxFQUFTb0IsS0FBSzhDLEVBQW1CLEdBQUtoQixFQUV4QyxDQUNELEVBS0YzRixFQUFvQlMsRUFBRVUsRUFBS2tCLEdBQTBDLElBQTdCNUQsRUFBZ0I0RCxHWW5EeEQsSUFBSTBFLEVBQXNCL0csRUFBb0JTLE9BQUVOLEVBQVcsQ0FBQyxNQUFNLElBQU9ILEVBQW9CLE8sR0FDN0YrRyxFQUFzQi9HLEVBQW9CUyxFQUFFc0csSSIsInNvdXJjZXMiOlsid2VicGFjazovL3pvZS93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL3pvZS93ZWJwYWNrL3J1bnRpbWUvaW1wb3J0IGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vem9lLy4vc3JjL2NsaWVudC9jb21wb25lbnRzL0FwcC50c3giLCJ3ZWJwYWNrOi8vem9lLy4vc3JjL2NsaWVudC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vem9lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3pvZS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly96b2Uvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3pvZS93ZWJwYWNrL3J1bnRpbWUvZW5zdXJlIGNodW5rIiwid2VicGFjazovL3pvZS93ZWJwYWNrL3J1bnRpbWUvZ2V0IGphdmFzY3JpcHQgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vem9lL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vem9lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vem9lL3dlYnBhY2svcnVudGltZS9zaGFyaW5nIiwid2VicGFjazovL3pvZS93ZWJwYWNrL3J1bnRpbWUvY29uc3VtZXMiLCJ3ZWJwYWNrOi8vem9lL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxudmFyIGluc3RhbGxDaHVuayA9IChkYXRhKSA9PiB7XG5cdHZhciB7aWRzLCBtb2R1bGVzLCBydW50aW1lfSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJpZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0Zm9yKG1vZHVsZUlkIGluIG1vZHVsZXMpIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0fVxuXHR9XG5cdGlmKHJ1bnRpbWUpIHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdGZvcig7aSA8IGlkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBpZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2lkc1tpXV0gPSAwO1xuXHR9XG5cdF9fd2VicGFja19yZXF1aXJlX18uTygpO1xufVxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmYuaiA9IChjaHVua0lkLCBwcm9taXNlcykgPT4ge1xuXHRcdC8vIGltcG9ydCgpIGNodW5rIGxvYWRpbmcgZm9yIGphdmFzY3JpcHRcblx0XHR2YXIgaW5zdGFsbGVkQ2h1bmtEYXRhID0gX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgPyBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gOiB1bmRlZmluZWQ7XG5cdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSB7IC8vIDAgbWVhbnMgXCJhbHJlYWR5IGluc3RhbGxlZFwiLlxuXG5cdFx0XHQvLyBhIFByb21pc2UgbWVhbnMgXCJjdXJyZW50bHkgbG9hZGluZ1wiLlxuXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG5cdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzFdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmKHRydWUpIHsgLy8gYWxsIGNodW5rcyBoYXZlIEpTXG5cdFx0XHRcdFx0Ly8gc2V0dXAgUHJvbWlzZSBpbiBjaHVuayBjYWNoZVxuXHRcdFx0XHRcdHZhciBwcm9taXNlID0gaW1wb3J0KFwiLi9cIiArIF9fd2VicGFja19yZXF1aXJlX18udShjaHVua0lkKSkudGhlbihpbnN0YWxsQ2h1bmssIChlKSA9PiB7XG5cdFx0XHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gIT09IDApIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBQcm9taXNlLnJhY2UoW3Byb21pc2UsIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiAoaW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmVdKSldKVxuXHRcdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzFdID0gcHJvbWlzZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG59O1xuXG4vLyBubyBleHRlcm5hbCBpbnN0YWxsIGNodW5rXG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApOyIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSGVsbWV0IH0gZnJvbSAncmVhY3QtaGVsbWV0Jztcbi8vIGltcG9ydCB0eXBlIHsgQ29udGVudFByb3BzIH0gZnJvbSAncmVtb3RlMS9Db250ZW50Jztcbi8vIGNvbnN0IENvbnRlbnQgPSBSZWFjdC5sYXp5KFxuLy8gICAoKSA9PiBpbXBvcnQoJ3JlbW90ZTEvQ29udGVudCcpIGFzIFByb21pc2U8eyBkZWZhdWx0OiBSZWFjdC5GQzxDb250ZW50UHJvcHM+IH0+LFxuLy8gKTtcbmNvbnN0IEFwcCA9ICgpID0+IHtcbiAgICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcbiAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgc3R5bGU6IHtcbiAgICAgICAgICAgIHBhZGRpbmc6ICcxcmVtJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzAuMjVyZW0nLFxuICAgICAgICAgICAgYm9yZGVyOiAnNHB4IGRhc2hlZCAjZmM0NTFlJyxcbiAgICAgICAgfSwgY2hpbGRyZW46IFtfanN4KEhlbG1ldCwgeyBjaGlsZHJlbjogX2pzeChcInRpdGxlXCIsIHsgY2hpbGRyZW46IFwiU1NSIE1GIEV4YW1wbGVcIiB9KSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBzdHlsZTogeyBwYWRkaW5nOiAnMXJlbScgfSwgY2hpbGRyZW46IFtfanN4KFwiaDFcIiwgeyBjaGlsZHJlbjogXCJNb2R1bGUgRmVkZXJhdGlvbiBFeGFtcGxlOiBTZXJ2ZXIgU2lkZSBSZW5kZXJpbmdcIiB9KSwgX2pzeChcImgyXCIsIHsgY2hpbGRyZW46IFwiVGhpcyBpcyB0aGUgc2hlbGwgYXBwbGljYXRpb24uXCIgfSksIF9qc3goXCJwXCIsIHsgY2hpbGRyZW46IFwiWW91IGNhbiB0cnkgdG8gZGlzYWJsZSBKYXZhU2NyaXB0IGFuZCByZWxvYWQgdGhlIHBhZ2UuXCIgfSldIH0pLCBfanN4cyhcImRpdlwiLCB7IHN0eWxlOiB7IHBhZGRpbmc6ICcxcmVtJyB9LCBjaGlsZHJlbjogW19qc3goXCJoM1wiLCB7IGNoaWxkcmVuOiBcIlR5cGUgc29tZXRoaW5nIGludG8gdGhpcyBpbnB1dFwiIH0pLCBfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcInRleHRcIiwgdmFsdWU6IHN0YXRlLCBvbkNoYW5nZTogZSA9PiBzZXRTdGF0ZShlLnRhcmdldC52YWx1ZSksIHBsYWNlaG9sZGVyOiBcIkx1a2UsIEkgYW0geW91ciBmYXRoZXIuLi5cIiB9KV0gfSksIF9qc3goUmVhY3QuU3VzcGVuc2UsIHsgZmFsbGJhY2s6IF9qc3goXCJoMVwiLCB7IGNoaWxkcmVuOiBcIkxvYWRpbmcuLi4uXCIgfSksIGNoaWxkcmVuOiBfanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IFwidGVzdFwiIH0pIH0pXSB9KSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgQXBwO1xuIiwiaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NQ2xpZW50IGZyb20gJ3JlYWN0LWRvbS9jbGllbnQnO1xuaW1wb3J0IEFwcCBmcm9tICcuL2NvbXBvbmVudHMvQXBwJztcbmNvbnN0IHJlbmRlciA9IEFwcCA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTtcbiAgICBpZiAoIWNvbnRhaW5lcilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29udGFpbmVyIGVsZW1lbnQgY291bGQgbm90IGJlIGZvdW5kXCIpO1xuICAgIFJlYWN0RE9NQ2xpZW50Lmh5ZHJhdGVSb290KGNvbnRhaW5lciwgX2pzeChBcHAsIHt9KSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgcmVuZGVyKEFwcCk7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5mID0ge307XG4vLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4vLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18uZSA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmYpLnJlZHVjZSgocHJvbWlzZXMsIGtleSkgPT4ge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18uZltrZXldKGNodW5rSWQsIHByb21pc2VzKTtcblx0XHRyZXR1cm4gcHJvbWlzZXM7XG5cdH0sIFtdKSk7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFzeW5jIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy51ID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcIlwiICsgY2h1bmtJZCArIFwiLmpzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18uUyA9IHt9O1xudmFyIGluaXRQcm9taXNlcyA9IHt9O1xudmFyIGluaXRUb2tlbnMgPSB7fTtcbl9fd2VicGFja19yZXF1aXJlX18uSSA9IChuYW1lLCBpbml0U2NvcGUpID0+IHtcblx0aWYoIWluaXRTY29wZSkgaW5pdFNjb3BlID0gW107XG5cdC8vIGhhbmRsaW5nIGNpcmN1bGFyIGluaXQgY2FsbHNcblx0dmFyIGluaXRUb2tlbiA9IGluaXRUb2tlbnNbbmFtZV07XG5cdGlmKCFpbml0VG9rZW4pIGluaXRUb2tlbiA9IGluaXRUb2tlbnNbbmFtZV0gPSB7fTtcblx0aWYoaW5pdFNjb3BlLmluZGV4T2YoaW5pdFRva2VuKSA+PSAwKSByZXR1cm47XG5cdGluaXRTY29wZS5wdXNoKGluaXRUb2tlbik7XG5cdC8vIG9ubHkgcnVucyBvbmNlXG5cdGlmKGluaXRQcm9taXNlc1tuYW1lXSkgcmV0dXJuIGluaXRQcm9taXNlc1tuYW1lXTtcblx0Ly8gY3JlYXRlcyBhIG5ldyBzaGFyZSBzY29wZSBpZiBuZWVkZWRcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhfX3dlYnBhY2tfcmVxdWlyZV9fLlMsIG5hbWUpKSBfX3dlYnBhY2tfcmVxdWlyZV9fLlNbbmFtZV0gPSB7fTtcblx0Ly8gcnVucyBhbGwgaW5pdCBzbmlwcGV0cyBmcm9tIGFsbCBtb2R1bGVzIHJlYWNoYWJsZVxuXHR2YXIgc2NvcGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLlNbbmFtZV07XG5cdHZhciB3YXJuID0gKG1zZykgPT4ge1xuXHRcdGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybihtc2cpO1xuXHR9O1xuXHR2YXIgdW5pcXVlTmFtZSA9IFwiem9lXCI7XG5cdHZhciByZWdpc3RlciA9IChuYW1lLCB2ZXJzaW9uLCBmYWN0b3J5LCBlYWdlcikgPT4ge1xuXHRcdHZhciB2ZXJzaW9ucyA9IHNjb3BlW25hbWVdID0gc2NvcGVbbmFtZV0gfHwge307XG5cdFx0dmFyIGFjdGl2ZVZlcnNpb24gPSB2ZXJzaW9uc1t2ZXJzaW9uXTtcblx0XHRpZighYWN0aXZlVmVyc2lvbiB8fCAoIWFjdGl2ZVZlcnNpb24ubG9hZGVkICYmICghZWFnZXIgIT0gIWFjdGl2ZVZlcnNpb24uZWFnZXIgPyBlYWdlciA6IHVuaXF1ZU5hbWUgPiBhY3RpdmVWZXJzaW9uLmZyb20pKSkgdmVyc2lvbnNbdmVyc2lvbl0gPSB7IGdldDogZmFjdG9yeSwgZnJvbTogdW5pcXVlTmFtZSwgZWFnZXI6ICEhZWFnZXIgfTtcblx0fTtcblx0dmFyIGluaXRFeHRlcm5hbCA9IChpZCkgPT4ge1xuXHRcdHZhciBoYW5kbGVFcnJvciA9IChlcnIpID0+ICh3YXJuKFwiSW5pdGlhbGl6YXRpb24gb2Ygc2hhcmluZyBleHRlcm5hbCBmYWlsZWQ6IFwiICsgZXJyKSk7XG5cdFx0dHJ5IHtcblx0XHRcdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcblx0XHRcdGlmKCFtb2R1bGUpIHJldHVybjtcblx0XHRcdHZhciBpbml0Rm4gPSAobW9kdWxlKSA9PiAobW9kdWxlICYmIG1vZHVsZS5pbml0ICYmIG1vZHVsZS5pbml0KF9fd2VicGFja19yZXF1aXJlX18uU1tuYW1lXSwgaW5pdFNjb3BlKSlcblx0XHRcdGlmKG1vZHVsZS50aGVuKSByZXR1cm4gcHJvbWlzZXMucHVzaChtb2R1bGUudGhlbihpbml0Rm4sIGhhbmRsZUVycm9yKSk7XG5cdFx0XHR2YXIgaW5pdFJlc3VsdCA9IGluaXRGbihtb2R1bGUpO1xuXHRcdFx0aWYoaW5pdFJlc3VsdCAmJiBpbml0UmVzdWx0LnRoZW4pIHJldHVybiBwcm9taXNlcy5wdXNoKGluaXRSZXN1bHRbJ2NhdGNoJ10oaGFuZGxlRXJyb3IpKTtcblx0XHR9IGNhdGNoKGVycikgeyBoYW5kbGVFcnJvcihlcnIpOyB9XG5cdH1cblx0dmFyIHByb21pc2VzID0gW107XG5cdHN3aXRjaChuYW1lKSB7XG5cdFx0Y2FzZSBcImRlZmF1bHRcIjoge1xuXHRcdFx0cmVnaXN0ZXIoXCJyZWFjdC1kb21cIiwgXCIxOC4yLjBcIiwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uZSg1NDIpLnRoZW4oKCkgPT4gKCgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDU0MikpKSkpKTtcblx0XHRcdHJlZ2lzdGVyKFwicmVhY3RcIiwgXCIxOC4yLjBcIiwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uZSgzNzgpLnRoZW4oKCkgPT4gKCgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDM3OCkpKSkpKTtcblx0XHR9XG5cdFx0YnJlYWs7XG5cdH1cblx0aWYoIXByb21pc2VzLmxlbmd0aCkgcmV0dXJuIGluaXRQcm9taXNlc1tuYW1lXSA9IDE7XG5cdHJldHVybiBpbml0UHJvbWlzZXNbbmFtZV0gPSBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiAoaW5pdFByb21pc2VzW25hbWVdID0gMSkpO1xufTsiLCJ2YXIgcGFyc2VWZXJzaW9uID0gKHN0cikgPT4ge1xuXHQvLyBzZWUgd2VicGFjay9saWIvdXRpbC9zZW12ZXIuanMgZm9yIG9yaWdpbmFsIGNvZGVcblx0dmFyIHA9cD0+e3JldHVybiBwLnNwbGl0KFwiLlwiKS5tYXAoKHA9PntyZXR1cm4rcD09cD8rcDpwfSkpfSxuPS9eKFteLStdKyk/KD86LShbXitdKykpPyg/OlxcKyguKykpPyQvLmV4ZWMoc3RyKSxyPW5bMV0/cChuWzFdKTpbXTtyZXR1cm4gblsyXSYmKHIubGVuZ3RoKyssci5wdXNoLmFwcGx5KHIscChuWzJdKSkpLG5bM10mJihyLnB1c2goW10pLHIucHVzaC5hcHBseShyLHAoblszXSkpKSxyO1xufVxudmFyIHZlcnNpb25MdCA9IChhLCBiKSA9PiB7XG5cdC8vIHNlZSB3ZWJwYWNrL2xpYi91dGlsL3NlbXZlci5qcyBmb3Igb3JpZ2luYWwgY29kZVxuXHRhPXBhcnNlVmVyc2lvbihhKSxiPXBhcnNlVmVyc2lvbihiKTtmb3IodmFyIHI9MDs7KXtpZihyPj1hLmxlbmd0aClyZXR1cm4gcjxiLmxlbmd0aCYmXCJ1XCIhPSh0eXBlb2YgYltyXSlbMF07dmFyIGU9YVtyXSxuPSh0eXBlb2YgZSlbMF07aWYocj49Yi5sZW5ndGgpcmV0dXJuXCJ1XCI9PW47dmFyIHQ9YltyXSxmPSh0eXBlb2YgdClbMF07aWYobiE9ZilyZXR1cm5cIm9cIj09biYmXCJuXCI9PWZ8fChcInNcIj09Znx8XCJ1XCI9PW4pO2lmKFwib1wiIT1uJiZcInVcIiE9biYmZSE9dClyZXR1cm4gZTx0O3IrK31cbn1cbnZhciByYW5nZVRvU3RyaW5nID0gKHJhbmdlKSA9PiB7XG5cdC8vIHNlZSB3ZWJwYWNrL2xpYi91dGlsL3NlbXZlci5qcyBmb3Igb3JpZ2luYWwgY29kZVxuXHR2YXIgcj1yYW5nZVswXSxuPVwiXCI7aWYoMT09PXJhbmdlLmxlbmd0aClyZXR1cm5cIipcIjtpZihyKy41KXtuKz0wPT1yP1wiPj1cIjotMT09cj9cIjxcIjoxPT1yP1wiXlwiOjI9PXI/XCJ+XCI6cj4wP1wiPVwiOlwiIT1cIjtmb3IodmFyIGU9MSxhPTE7YTxyYW5nZS5sZW5ndGg7YSsrKXtlLS0sbis9XCJ1XCI9PSh0eXBlb2YodD1yYW5nZVthXSkpWzBdP1wiLVwiOihlPjA/XCIuXCI6XCJcIikrKGU9Mix0KX1yZXR1cm4gbn12YXIgZz1bXTtmb3IoYT0xO2E8cmFuZ2UubGVuZ3RoO2ErKyl7dmFyIHQ9cmFuZ2VbYV07Zy5wdXNoKDA9PT10P1wibm90KFwiK28oKStcIilcIjoxPT09dD9cIihcIitvKCkrXCIgfHwgXCIrbygpK1wiKVwiOjI9PT10P2cucG9wKCkrXCIgXCIrZy5wb3AoKTpyYW5nZVRvU3RyaW5nKHQpKX1yZXR1cm4gbygpO2Z1bmN0aW9uIG8oKXtyZXR1cm4gZy5wb3AoKS5yZXBsYWNlKC9eXFwoKC4rKVxcKSQvLFwiJDFcIil9XG59XG52YXIgc2F0aXNmeSA9IChyYW5nZSwgdmVyc2lvbikgPT4ge1xuXHQvLyBzZWUgd2VicGFjay9saWIvdXRpbC9zZW12ZXIuanMgZm9yIG9yaWdpbmFsIGNvZGVcblx0aWYoMCBpbiByYW5nZSl7dmVyc2lvbj1wYXJzZVZlcnNpb24odmVyc2lvbik7dmFyIGU9cmFuZ2VbMF0scj1lPDA7ciYmKGU9LWUtMSk7Zm9yKHZhciBuPTAsaT0xLGE9ITA7O2krKyxuKyspe3ZhciBmLHMsZz1pPHJhbmdlLmxlbmd0aD8odHlwZW9mIHJhbmdlW2ldKVswXTpcIlwiO2lmKG4+PXZlcnNpb24ubGVuZ3RofHxcIm9cIj09KHM9KHR5cGVvZihmPXZlcnNpb25bbl0pKVswXSkpcmV0dXJuIWF8fChcInVcIj09Zz9pPmUmJiFyOlwiXCI9PWchPXIpO2lmKFwidVwiPT1zKXtpZighYXx8XCJ1XCIhPWcpcmV0dXJuITF9ZWxzZSBpZihhKWlmKGc9PXMpaWYoaTw9ZSl7aWYoZiE9cmFuZ2VbaV0pcmV0dXJuITF9ZWxzZXtpZihyP2Y+cmFuZ2VbaV06ZjxyYW5nZVtpXSlyZXR1cm4hMTtmIT1yYW5nZVtpXSYmKGE9ITEpfWVsc2UgaWYoXCJzXCIhPWcmJlwiblwiIT1nKXtpZihyfHxpPD1lKXJldHVybiExO2E9ITEsaS0tfWVsc2V7aWYoaTw9ZXx8czxnIT1yKXJldHVybiExO2E9ITF9ZWxzZVwic1wiIT1nJiZcIm5cIiE9ZyYmKGE9ITEsaS0tKX19dmFyIHQ9W10sbz10LnBvcC5iaW5kKHQpO2ZvcihuPTE7bjxyYW5nZS5sZW5ndGg7bisrKXt2YXIgdT1yYW5nZVtuXTt0LnB1c2goMT09dT9vKCl8bygpOjI9PXU/bygpJm8oKTp1P3NhdGlzZnkodSx2ZXJzaW9uKTohbygpKX1yZXR1cm4hIW8oKTtcbn1cbnZhciBlbnN1cmVFeGlzdGVuY2UgPSAoc2NvcGVOYW1lLCBrZXkpID0+IHtcblx0dmFyIHNjb3BlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5TW3Njb3BlTmFtZV07XG5cdGlmKCFzY29wZSB8fCAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKHNjb3BlLCBrZXkpKSB0aHJvdyBuZXcgRXJyb3IoXCJTaGFyZWQgbW9kdWxlIFwiICsga2V5ICsgXCIgZG9lc24ndCBleGlzdCBpbiBzaGFyZWQgc2NvcGUgXCIgKyBzY29wZU5hbWUpO1xuXHRyZXR1cm4gc2NvcGU7XG59O1xudmFyIGZpbmRWZXJzaW9uID0gKHNjb3BlLCBrZXkpID0+IHtcblx0dmFyIHZlcnNpb25zID0gc2NvcGVba2V5XTtcblx0dmFyIGtleSA9IE9iamVjdC5rZXlzKHZlcnNpb25zKS5yZWR1Y2UoKGEsIGIpID0+IHtcblx0XHRyZXR1cm4gIWEgfHwgdmVyc2lvbkx0KGEsIGIpID8gYiA6IGE7XG5cdH0sIDApO1xuXHRyZXR1cm4ga2V5ICYmIHZlcnNpb25zW2tleV1cbn07XG52YXIgZmluZFNpbmdsZXRvblZlcnNpb25LZXkgPSAoc2NvcGUsIGtleSkgPT4ge1xuXHR2YXIgdmVyc2lvbnMgPSBzY29wZVtrZXldO1xuXHRyZXR1cm4gT2JqZWN0LmtleXModmVyc2lvbnMpLnJlZHVjZSgoYSwgYikgPT4ge1xuXHRcdHJldHVybiAhYSB8fCAoIXZlcnNpb25zW2FdLmxvYWRlZCAmJiB2ZXJzaW9uTHQoYSwgYikpID8gYiA6IGE7XG5cdH0sIDApO1xufTtcbnZhciBnZXRJbnZhbGlkU2luZ2xldG9uVmVyc2lvbk1lc3NhZ2UgPSAoc2NvcGUsIGtleSwgdmVyc2lvbiwgcmVxdWlyZWRWZXJzaW9uKSA9PiB7XG5cdHJldHVybiBcIlVuc2F0aXNmaWVkIHZlcnNpb24gXCIgKyB2ZXJzaW9uICsgXCIgZnJvbSBcIiArICh2ZXJzaW9uICYmIHNjb3BlW2tleV1bdmVyc2lvbl0uZnJvbSkgKyBcIiBvZiBzaGFyZWQgc2luZ2xldG9uIG1vZHVsZSBcIiArIGtleSArIFwiIChyZXF1aXJlZCBcIiArIHJhbmdlVG9TdHJpbmcocmVxdWlyZWRWZXJzaW9uKSArIFwiKVwiXG59O1xudmFyIGdldFNpbmdsZXRvbiA9IChzY29wZSwgc2NvcGVOYW1lLCBrZXksIHJlcXVpcmVkVmVyc2lvbikgPT4ge1xuXHR2YXIgdmVyc2lvbiA9IGZpbmRTaW5nbGV0b25WZXJzaW9uS2V5KHNjb3BlLCBrZXkpO1xuXHRyZXR1cm4gZ2V0KHNjb3BlW2tleV1bdmVyc2lvbl0pO1xufTtcbnZhciBnZXRTaW5nbGV0b25WZXJzaW9uID0gKHNjb3BlLCBzY29wZU5hbWUsIGtleSwgcmVxdWlyZWRWZXJzaW9uKSA9PiB7XG5cdHZhciB2ZXJzaW9uID0gZmluZFNpbmdsZXRvblZlcnNpb25LZXkoc2NvcGUsIGtleSk7XG5cdGlmICghc2F0aXNmeShyZXF1aXJlZFZlcnNpb24sIHZlcnNpb24pKSB3YXJuKGdldEludmFsaWRTaW5nbGV0b25WZXJzaW9uTWVzc2FnZShzY29wZSwga2V5LCB2ZXJzaW9uLCByZXF1aXJlZFZlcnNpb24pKTtcblx0cmV0dXJuIGdldChzY29wZVtrZXldW3ZlcnNpb25dKTtcbn07XG52YXIgZ2V0U3RyaWN0U2luZ2xldG9uVmVyc2lvbiA9IChzY29wZSwgc2NvcGVOYW1lLCBrZXksIHJlcXVpcmVkVmVyc2lvbikgPT4ge1xuXHR2YXIgdmVyc2lvbiA9IGZpbmRTaW5nbGV0b25WZXJzaW9uS2V5KHNjb3BlLCBrZXkpO1xuXHRpZiAoIXNhdGlzZnkocmVxdWlyZWRWZXJzaW9uLCB2ZXJzaW9uKSkgdGhyb3cgbmV3IEVycm9yKGdldEludmFsaWRTaW5nbGV0b25WZXJzaW9uTWVzc2FnZShzY29wZSwga2V5LCB2ZXJzaW9uLCByZXF1aXJlZFZlcnNpb24pKTtcblx0cmV0dXJuIGdldChzY29wZVtrZXldW3ZlcnNpb25dKTtcbn07XG52YXIgZmluZFZhbGlkVmVyc2lvbiA9IChzY29wZSwga2V5LCByZXF1aXJlZFZlcnNpb24pID0+IHtcblx0dmFyIHZlcnNpb25zID0gc2NvcGVba2V5XTtcblx0dmFyIGtleSA9IE9iamVjdC5rZXlzKHZlcnNpb25zKS5yZWR1Y2UoKGEsIGIpID0+IHtcblx0XHRpZiAoIXNhdGlzZnkocmVxdWlyZWRWZXJzaW9uLCBiKSkgcmV0dXJuIGE7XG5cdFx0cmV0dXJuICFhIHx8IHZlcnNpb25MdChhLCBiKSA/IGIgOiBhO1xuXHR9LCAwKTtcblx0cmV0dXJuIGtleSAmJiB2ZXJzaW9uc1trZXldXG59O1xudmFyIGdldEludmFsaWRWZXJzaW9uTWVzc2FnZSA9IChzY29wZSwgc2NvcGVOYW1lLCBrZXksIHJlcXVpcmVkVmVyc2lvbikgPT4ge1xuXHR2YXIgdmVyc2lvbnMgPSBzY29wZVtrZXldO1xuXHRyZXR1cm4gXCJObyBzYXRpc2Z5aW5nIHZlcnNpb24gKFwiICsgcmFuZ2VUb1N0cmluZyhyZXF1aXJlZFZlcnNpb24pICsgXCIpIG9mIHNoYXJlZCBtb2R1bGUgXCIgKyBrZXkgKyBcIiBmb3VuZCBpbiBzaGFyZWQgc2NvcGUgXCIgKyBzY29wZU5hbWUgKyBcIi5cXG5cIiArXG5cdFx0XCJBdmFpbGFibGUgdmVyc2lvbnM6IFwiICsgT2JqZWN0LmtleXModmVyc2lvbnMpLm1hcCgoa2V5KSA9PiB7XG5cdFx0cmV0dXJuIGtleSArIFwiIGZyb20gXCIgKyB2ZXJzaW9uc1trZXldLmZyb207XG5cdH0pLmpvaW4oXCIsIFwiKTtcbn07XG52YXIgZ2V0VmFsaWRWZXJzaW9uID0gKHNjb3BlLCBzY29wZU5hbWUsIGtleSwgcmVxdWlyZWRWZXJzaW9uKSA9PiB7XG5cdHZhciBlbnRyeSA9IGZpbmRWYWxpZFZlcnNpb24oc2NvcGUsIGtleSwgcmVxdWlyZWRWZXJzaW9uKTtcblx0aWYoZW50cnkpIHJldHVybiBnZXQoZW50cnkpO1xuXHR0aHJvdyBuZXcgRXJyb3IoZ2V0SW52YWxpZFZlcnNpb25NZXNzYWdlKHNjb3BlLCBzY29wZU5hbWUsIGtleSwgcmVxdWlyZWRWZXJzaW9uKSk7XG59O1xudmFyIHdhcm4gPSAobXNnKSA9PiB7XG5cdGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybihtc2cpO1xufTtcbnZhciB3YXJuSW52YWxpZFZlcnNpb24gPSAoc2NvcGUsIHNjb3BlTmFtZSwga2V5LCByZXF1aXJlZFZlcnNpb24pID0+IHtcblx0d2FybihnZXRJbnZhbGlkVmVyc2lvbk1lc3NhZ2Uoc2NvcGUsIHNjb3BlTmFtZSwga2V5LCByZXF1aXJlZFZlcnNpb24pKTtcbn07XG52YXIgZ2V0ID0gKGVudHJ5KSA9PiB7XG5cdGVudHJ5LmxvYWRlZCA9IDE7XG5cdHJldHVybiBlbnRyeS5nZXQoKVxufTtcbnZhciBpbml0ID0gKGZuKSA9PiAoZnVuY3Rpb24oc2NvcGVOYW1lLCBhLCBiLCBjKSB7XG5cdHZhciBwcm9taXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5JKHNjb3BlTmFtZSk7XG5cdGlmIChwcm9taXNlICYmIHByb21pc2UudGhlbikgcmV0dXJuIHByb21pc2UudGhlbihmbi5iaW5kKGZuLCBzY29wZU5hbWUsIF9fd2VicGFja19yZXF1aXJlX18uU1tzY29wZU5hbWVdLCBhLCBiLCBjKSk7XG5cdHJldHVybiBmbihzY29wZU5hbWUsIF9fd2VicGFja19yZXF1aXJlX18uU1tzY29wZU5hbWVdLCBhLCBiLCBjKTtcbn0pO1xuXG52YXIgbG9hZCA9IC8qI19fUFVSRV9fKi8gaW5pdCgoc2NvcGVOYW1lLCBzY29wZSwga2V5KSA9PiB7XG5cdGVuc3VyZUV4aXN0ZW5jZShzY29wZU5hbWUsIGtleSk7XG5cdHJldHVybiBnZXQoZmluZFZlcnNpb24oc2NvcGUsIGtleSkpO1xufSk7XG52YXIgbG9hZEZhbGxiYWNrID0gLyojX19QVVJFX18qLyBpbml0KChzY29wZU5hbWUsIHNjb3BlLCBrZXksIGZhbGxiYWNrKSA9PiB7XG5cdHJldHVybiBzY29wZSAmJiBfX3dlYnBhY2tfcmVxdWlyZV9fLm8oc2NvcGUsIGtleSkgPyBnZXQoZmluZFZlcnNpb24oc2NvcGUsIGtleSkpIDogZmFsbGJhY2soKTtcbn0pO1xudmFyIGxvYWRWZXJzaW9uQ2hlY2sgPSAvKiNfX1BVUkVfXyovIGluaXQoKHNjb3BlTmFtZSwgc2NvcGUsIGtleSwgdmVyc2lvbikgPT4ge1xuXHRlbnN1cmVFeGlzdGVuY2Uoc2NvcGVOYW1lLCBrZXkpO1xuXHRyZXR1cm4gZ2V0KGZpbmRWYWxpZFZlcnNpb24oc2NvcGUsIGtleSwgdmVyc2lvbikgfHwgd2FybkludmFsaWRWZXJzaW9uKHNjb3BlLCBzY29wZU5hbWUsIGtleSwgdmVyc2lvbikgfHwgZmluZFZlcnNpb24oc2NvcGUsIGtleSkpO1xufSk7XG52YXIgbG9hZFNpbmdsZXRvbiA9IC8qI19fUFVSRV9fKi8gaW5pdCgoc2NvcGVOYW1lLCBzY29wZSwga2V5KSA9PiB7XG5cdGVuc3VyZUV4aXN0ZW5jZShzY29wZU5hbWUsIGtleSk7XG5cdHJldHVybiBnZXRTaW5nbGV0b24oc2NvcGUsIHNjb3BlTmFtZSwga2V5KTtcbn0pO1xudmFyIGxvYWRTaW5nbGV0b25WZXJzaW9uQ2hlY2sgPSAvKiNfX1BVUkVfXyovIGluaXQoKHNjb3BlTmFtZSwgc2NvcGUsIGtleSwgdmVyc2lvbikgPT4ge1xuXHRlbnN1cmVFeGlzdGVuY2Uoc2NvcGVOYW1lLCBrZXkpO1xuXHRyZXR1cm4gZ2V0U2luZ2xldG9uVmVyc2lvbihzY29wZSwgc2NvcGVOYW1lLCBrZXksIHZlcnNpb24pO1xufSk7XG52YXIgbG9hZFN0cmljdFZlcnNpb25DaGVjayA9IC8qI19fUFVSRV9fKi8gaW5pdCgoc2NvcGVOYW1lLCBzY29wZSwga2V5LCB2ZXJzaW9uKSA9PiB7XG5cdGVuc3VyZUV4aXN0ZW5jZShzY29wZU5hbWUsIGtleSk7XG5cdHJldHVybiBnZXRWYWxpZFZlcnNpb24oc2NvcGUsIHNjb3BlTmFtZSwga2V5LCB2ZXJzaW9uKTtcbn0pO1xudmFyIGxvYWRTdHJpY3RTaW5nbGV0b25WZXJzaW9uQ2hlY2sgPSAvKiNfX1BVUkVfXyovIGluaXQoKHNjb3BlTmFtZSwgc2NvcGUsIGtleSwgdmVyc2lvbikgPT4ge1xuXHRlbnN1cmVFeGlzdGVuY2Uoc2NvcGVOYW1lLCBrZXkpO1xuXHRyZXR1cm4gZ2V0U3RyaWN0U2luZ2xldG9uVmVyc2lvbihzY29wZSwgc2NvcGVOYW1lLCBrZXksIHZlcnNpb24pO1xufSk7XG52YXIgbG9hZFZlcnNpb25DaGVja0ZhbGxiYWNrID0gLyojX19QVVJFX18qLyBpbml0KChzY29wZU5hbWUsIHNjb3BlLCBrZXksIHZlcnNpb24sIGZhbGxiYWNrKSA9PiB7XG5cdGlmKCFzY29wZSB8fCAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKHNjb3BlLCBrZXkpKSByZXR1cm4gZmFsbGJhY2soKTtcblx0cmV0dXJuIGdldChmaW5kVmFsaWRWZXJzaW9uKHNjb3BlLCBrZXksIHZlcnNpb24pIHx8IHdhcm5JbnZhbGlkVmVyc2lvbihzY29wZSwgc2NvcGVOYW1lLCBrZXksIHZlcnNpb24pIHx8IGZpbmRWZXJzaW9uKHNjb3BlLCBrZXkpKTtcbn0pO1xudmFyIGxvYWRTaW5nbGV0b25GYWxsYmFjayA9IC8qI19fUFVSRV9fKi8gaW5pdCgoc2NvcGVOYW1lLCBzY29wZSwga2V5LCBmYWxsYmFjaykgPT4ge1xuXHRpZighc2NvcGUgfHwgIV9fd2VicGFja19yZXF1aXJlX18ubyhzY29wZSwga2V5KSkgcmV0dXJuIGZhbGxiYWNrKCk7XG5cdHJldHVybiBnZXRTaW5nbGV0b24oc2NvcGUsIHNjb3BlTmFtZSwga2V5KTtcbn0pO1xudmFyIGxvYWRTaW5nbGV0b25WZXJzaW9uQ2hlY2tGYWxsYmFjayA9IC8qI19fUFVSRV9fKi8gaW5pdCgoc2NvcGVOYW1lLCBzY29wZSwga2V5LCB2ZXJzaW9uLCBmYWxsYmFjaykgPT4ge1xuXHRpZighc2NvcGUgfHwgIV9fd2VicGFja19yZXF1aXJlX18ubyhzY29wZSwga2V5KSkgcmV0dXJuIGZhbGxiYWNrKCk7XG5cdHJldHVybiBnZXRTaW5nbGV0b25WZXJzaW9uKHNjb3BlLCBzY29wZU5hbWUsIGtleSwgdmVyc2lvbik7XG59KTtcbnZhciBsb2FkU3RyaWN0VmVyc2lvbkNoZWNrRmFsbGJhY2sgPSAvKiNfX1BVUkVfXyovIGluaXQoKHNjb3BlTmFtZSwgc2NvcGUsIGtleSwgdmVyc2lvbiwgZmFsbGJhY2spID0+IHtcblx0dmFyIGVudHJ5ID0gc2NvcGUgJiYgX193ZWJwYWNrX3JlcXVpcmVfXy5vKHNjb3BlLCBrZXkpICYmIGZpbmRWYWxpZFZlcnNpb24oc2NvcGUsIGtleSwgdmVyc2lvbik7XG5cdHJldHVybiBlbnRyeSA/IGdldChlbnRyeSkgOiBmYWxsYmFjaygpO1xufSk7XG52YXIgbG9hZFN0cmljdFNpbmdsZXRvblZlcnNpb25DaGVja0ZhbGxiYWNrID0gLyojX19QVVJFX18qLyBpbml0KChzY29wZU5hbWUsIHNjb3BlLCBrZXksIHZlcnNpb24sIGZhbGxiYWNrKSA9PiB7XG5cdGlmKCFzY29wZSB8fCAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKHNjb3BlLCBrZXkpKSByZXR1cm4gZmFsbGJhY2soKTtcblx0cmV0dXJuIGdldFN0cmljdFNpbmdsZXRvblZlcnNpb24oc2NvcGUsIHNjb3BlTmFtZSwga2V5LCB2ZXJzaW9uKTtcbn0pO1xudmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbnZhciBtb2R1bGVUb0hhbmRsZXJNYXBwaW5nID0ge1xuXHQxMDQ6ICgpID0+IChsb2FkU3RyaWN0VmVyc2lvbkNoZWNrRmFsbGJhY2soXCJkZWZhdWx0XCIsIFwicmVhY3RcIiwgWzEsMTgsMiwwXSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uZSgzNzgpLnRoZW4oKCkgPT4gKCgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDM3OCkpKSkpKSksXG5cdDUzOiAoKSA9PiAobG9hZFN0cmljdFZlcnNpb25DaGVja0ZhbGxiYWNrKFwiZGVmYXVsdFwiLCBcInJlYWN0LWRvbVwiLCBbMSwxOCwyLDBdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5lKDU0MikudGhlbigoKSA9PiAoKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNTQyKSkpKSkpKVxufTtcbnZhciBpbml0aWFsQ29uc3VtZXMgPSBbMTA0LDUzXTtcbmluaXRpYWxDb25zdW1lcy5mb3JFYWNoKChpZCkgPT4ge1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1baWRdID0gKG1vZHVsZSkgPT4ge1xuXHRcdC8vIEhhbmRsZSBjYXNlIHdoZW4gbW9kdWxlIGlzIHVzZWQgc3luY1xuXHRcdGluc3RhbGxlZE1vZHVsZXNbaWRdID0gMDtcblx0XHRkZWxldGUgX193ZWJwYWNrX3JlcXVpcmVfXy5jW2lkXTtcblx0XHR2YXIgZmFjdG9yeSA9IG1vZHVsZVRvSGFuZGxlck1hcHBpbmdbaWRdKCk7XG5cdFx0aWYodHlwZW9mIGZhY3RvcnkgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yKFwiU2hhcmVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlIGZvciBlYWdlciBjb25zdW1wdGlvbjogXCIgKyBpZCk7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH1cbn0pO1xudmFyIGNodW5rTWFwcGluZyA9IHt9O1xuX193ZWJwYWNrX3JlcXVpcmVfXy5mLmNvbnN1bWVzID0gKGNodW5rSWQsIHByb21pc2VzKSA9PiB7XG5cdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhjaHVua01hcHBpbmcsIGNodW5rSWQpKSB7XG5cdFx0Y2h1bmtNYXBwaW5nW2NodW5rSWRdLmZvckVhY2goKGlkKSA9PiB7XG5cdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkTW9kdWxlcywgaWQpKSByZXR1cm4gcHJvbWlzZXMucHVzaChpbnN0YWxsZWRNb2R1bGVzW2lkXSk7XG5cdFx0XHR2YXIgb25GYWN0b3J5ID0gKGZhY3RvcnkpID0+IHtcblx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tpZF0gPSAwO1xuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1baWRdID0gKG1vZHVsZSkgPT4ge1xuXHRcdFx0XHRcdGRlbGV0ZSBfX3dlYnBhY2tfcmVxdWlyZV9fLmNbaWRdO1xuXHRcdFx0XHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0dmFyIG9uRXJyb3IgPSAoZXJyb3IpID0+IHtcblx0XHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbaWRdO1xuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1baWRdID0gKG1vZHVsZSkgPT4ge1xuXHRcdFx0XHRcdGRlbGV0ZSBfX3dlYnBhY2tfcmVxdWlyZV9fLmNbaWRdO1xuXHRcdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFyIHByb21pc2UgPSBtb2R1bGVUb0hhbmRsZXJNYXBwaW5nW2lkXSgpO1xuXHRcdFx0XHRpZihwcm9taXNlLnRoZW4pIHtcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZE1vZHVsZXNbaWRdID0gcHJvbWlzZS50aGVuKG9uRmFjdG9yeSlbJ2NhdGNoJ10ob25FcnJvcikpO1xuXHRcdFx0XHR9IGVsc2Ugb25GYWN0b3J5KHByb21pc2UpO1xuXHRcdFx0fSBjYXRjaChlKSB7IG9uRXJyb3IoZSk7IH1cblx0XHR9KTtcblx0fVxufSIsIi8vIG1vZHVsZSBjYWNoZSBhcmUgdXNlZCBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs5MzldLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXygzMzUpKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iXSwibmFtZXMiOlsiZGVmZXJyZWQiLCJpbnN0YWxsZWRDaHVua3MiLCJpbnN0YWxsQ2h1bmsiLCJBcHAiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiRXJyb3IiLCJzdGF0ZSIsInNldFN0YXRlIiwic3R5bGUiLCJwYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwiYm9yZGVyIiwiY2hpbGRyZW4iLCJIZWxtZXQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsImZhbGxiYWNrIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwiYyIsIk8iLCJyZXN1bHQiLCJjaHVua0lkcyIsImZuIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImkiLCJsZW5ndGgiLCJmdWxmaWxsZWQiLCJqIiwiT2JqZWN0Iiwia2V5cyIsImV2ZXJ5Iiwia2V5Iiwic3BsaWNlIiwiciIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImYiLCJjaHVua0lkIiwiUHJvbWlzZSIsImFsbCIsInJlZHVjZSIsInByb21pc2VzIiwidSIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwid2luZG93Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlMiLCJpbml0UHJvbWlzZXMiLCJpbml0VG9rZW5zIiwiSSIsIm5hbWUiLCJpbml0U2NvcGUiLCJpbml0VG9rZW4iLCJpbmRleE9mIiwicHVzaCIsInNjb3BlIiwicmVnaXN0ZXIiLCJ2ZXJzaW9uIiwiZmFjdG9yeSIsImVhZ2VyIiwidmVyc2lvbnMiLCJhY3RpdmVWZXJzaW9uIiwibG9hZGVkIiwiZnJvbSIsInRoZW4iLCJwYXJzZVZlcnNpb24iLCJzdHIiLCJwIiwic3BsaXQiLCJtYXAiLCJleGVjIiwiYXBwbHkiLCJzYXRpc2Z5IiwicmFuZ2UiLCJzIiwidCIsInBvcCIsImJpbmQiLCJmaW5kVmFsaWRWZXJzaW9uIiwicmVxdWlyZWRWZXJzaW9uIiwiYiIsInZlcnNpb25MdCIsImxvYWRTdHJpY3RWZXJzaW9uQ2hlY2tGYWxsYmFjayIsInNjb3BlTmFtZSIsInByb21pc2UiLCJpbml0IiwiZW50cnkiLCJpbnN0YWxsZWRNb2R1bGVzIiwibW9kdWxlVG9IYW5kbGVyTWFwcGluZyIsImZvckVhY2giLCJpZCIsImNodW5rTWFwcGluZyIsImNvbnN1bWVzIiwib25GYWN0b3J5Iiwib25FcnJvciIsImVycm9yIiwiZGF0YSIsImlkcyIsIm1vZHVsZXMiLCJydW50aW1lIiwiaW5zdGFsbGVkQ2h1bmtEYXRhIiwiaW1wb3J0IiwicmFjZSIsInJlc29sdmUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==